- name: Set variables
  ansible.builin.set_fact:
    dse_ver_target: "{{ dse_ver_major }}.{{ dse_ver_minor }}"
    data_file_directories: "{{ dse_data_homedir | default(default_dse_data_homedir) }}/cassandra"
    commitlog_directory: "{{ dse_data_homedir | default(default_dse_data_homedir) }}/commitlog"
    saved_caches_directory: "{{ dse_data_homedir | default(default_dse_data_homedir) }}/saved_cahces"
    hints_directory: "{{ dse_data_homedir | default(default_dse_data_homedir) }}/hints"
    cdc_raw_directory: "{{ dse_data_homedir | default(default_dse_data_homedir) }}/cdc_raw"
    metadata_directory: "{{ dse_data_homedir | default(default_dse_data_homedir) }}/metadata"

- name: Create seed list
  ansible.builtin.include_tasks: ansible_task_create_seed_list.yml

- name: Mount disks
  ansible.builtin.include_tasks: ansible_task_mount_disks.yml

- name: Install DataStax binaries
  ansible.builtin.include_tasks: ansible_task_install_dse_binaries.yml